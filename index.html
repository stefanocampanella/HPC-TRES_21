<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>HPC-TRES 2021: Earthquake template-matching using modern Python</title>

	<meta name="description" content="Massive earthquake template-matching on GPUs using modern Python">
	<meta name="author" content="Stefano Campanella">

	<link rel="stylesheet" href="reveal.js/dist/reset.css">
	<link rel="stylesheet" href="reveal.js/dist/reveal.css">
	<link rel="stylesheet" href="reveal.js/dist/theme/ogs.css" id="theme">
	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="reveal.js/plugin/highlight/monokai.css" id="highlight-theme">
</head>

<body>
	<div class="reveal">

		<div class="slides">
			<!-- FIXME -->
			<!-- <section>
				<h1 style="color:white; text-transform:none">Earthquake template-matching at scale</h1>
				<p><a href="https://bit.ly/UPDATEME" target="_blank">bit.ly/UPDATEME</a></p>
			</section> -->

			<section>
				<h1>Earthquake template-matching at scale using GPUs and modern Python</h1>
				<p>
					<small><strong>Stefano Campanella</strong></small></p>
				<p>
					<small>Alessandro Vuan, Monica Sugan</small>
				</p>
				<div style="margin: 0 auto; width: 60%; display:flex; justify-content:space-between">
					<img class="plain" src="assets/ogs.png" height="100px">
					<img class="plain" src="assets/hpctres.png" height="100px">
				</div>
			</section>
			
			<section>
				<h3>Outline</h3>
				<ol>
					<li>
						<b>Intro &amp; Motivations</b>
						<ol>
							<li>What is template-matching?</li>
							<li>How is TM used in seismology?</li>
							<li>The goal: study of the central Italy normal fault</li>
						</ol>
					</li>
					<li>
						<b>Methodology &amp; Implementation</b>
						<ol>
							<li>The workflow</li>
							<li>Computational challenges</li>
							<li>Implementation using modern Python</li>
							<li>Deployment and workload orchestration</li>
						</ol>
					</li>
					<li>
						<b>Results</b>
						<ol>
							<li>The augmented catalogue</li>
							<li>Software improvements</li>
						</ol>
					</li>	
				</ol>
			</section>

			<section>
				<section>
					<h2 class='r-fit-text'>What is template-matching?</h2>
				</section>

				<section>
					<p>
						Template matching is a technique originally developed in digital image processing to find the part of an image that resemble a template.
					</p>
					<p class=fragment>
						In its simplest version, the idea is to compute a similarity index as the template moves across the image. If some criterion based on the index is met, there is a match.
					</p>
				</section>

				<section data-background-iframe="https://docs.opencv.org/4.x/d4/dc6/tutorial_py_template_matching.html" data-background-interactive>
				</section>
				
				<section>
					<p> 
						Let's consider a 1D image \( (x_n)_{0 \leq n < M} \) and template \( (y_n)_{0 \leq n < N} \) (i.e. two time series), where of course \( M > N\).
					</p>
					<p class=fragment>
						For example, one might use the so-called normalized cross-correlation \(r\) (that is the Pearson correlation index) to measure similarity.
					</p>
					<p class=fragment>
						Call \( y^{(k)}_n = y_{n + k}\) the segment of \(y_n\) alligned at sample \(k\), then:
						\[ r_k = \frac{\sum\limits^N_{n = 0} ( x_n - \langle x \rangle ) ( y^{(k)}_n - \langle y^{(k)}\rangle )}{\left( \sum\limits^N_{n = 0} ( x_n - \langle x \rangle )^2 \sum\limits^N_{n = 0} ( y^{(k)}_n - \langle y^{(k)} \rangle )^2 \right)^\frac{1}{2}}\]
					</p>
				</section>
			</section>

			<section>
				<section>
					<h2 class='r-fit-text'>Template-matching in seismology</h2>
				</section>

				<section>
					<p>
						The previous one dimensional case is exactly the case of signals found in earthquake template-matching, with and important difference:  
					</p>
				</section>
			</section>
		</div>
	</div>

	<script src="reveal.js/dist/reveal.js"></script>
	<script src="reveal.js/plugin/notes/notes.js"></script>
	<script src="reveal.js/plugin/markdown/markdown.js"></script>
	<script src="reveal.js/plugin/highlight/highlight.js"></script>
	<script src="reveal.js/plugin/math/math.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMath.KaTeX]
		});
	</script>
</body>

</html>
